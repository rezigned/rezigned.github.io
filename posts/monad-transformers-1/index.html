<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=generator content="Hugo 0.88.1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="rezigned">
<meta property="og:url" content="https://rezigned.com/posts/monad-transformers-1/">
<link rel=canonical href=https://rezigned.com/posts/monad-transformers-1/><link rel=alternate type=application/atom+xml href=https://rezigned.comindex.xml title=@rezigned>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/rezigned.com"},"articleSection":"posts","name":"Monad Transformers – Part 1: An Introduction","headline":"Monad Transformers – Part 1: An Introduction","description":"This post is part of the series Monad Transformers Monad Transformers – Part 1: An Introduction   Once you\u0026rsquo;ve learned some basic of \u0026ldquo;Monad\u0026rdquo;. The next step in the journey is \u0026ldquo;Monad Transformers\u0026rdquo;. In this series, we\u0026rsquo;ll use the basic building block of Haskell to learn about \u0026ldquo;Monad Transformers\u0026rdquo;.\nThe basic Let\u0026rsquo;s start with the most basic possible Monad. The Maybe monad. Here\u0026rsquo;s the type signature for Maybe type:","inLanguage":"en-US","author":"rezigned","creator":"rezigned","publisher":"rezigned","accountablePerson":"rezigned","copyrightHolder":"rezigned","copyrightYear":"2021","datePublished":"2021-10-24 20:28:16 \u002b0700 \u002b0700","dateModified":"2021-10-24 20:28:16 \u002b0700 \u002b0700","url":"https:\/\/rezigned.com\/posts\/monad-transformers-1\/","keywords":["haskell","monad"]}</script>
<title>Monad Transformers – Part 1: An Introduction</title>
<meta property="og:title" content="Monad Transformers – Part 1: An Introduction">
<meta property="og:type" content="article">
<meta property="og:description" content="This post is part of the series Monad Transformers Monad Transformers – Part 1: An Introduction   Once you&amp;rsquo;ve learned some basic of &amp;ldquo;Monad&amp;rdquo;. The next step in the journey is &amp;ldquo;Monad Transformers&amp;rdquo;. In this series, we&amp;rsquo;ll use the basic building block of Haskell to learn about &amp;ldquo;Monad Transformers&amp;rdquo;.
The basic Let&amp;rsquo;s start with the most basic possible Monad. The Maybe monad. Here&amp;rsquo;s the type signature for Maybe type:">
<meta name=description content="This post is part of the series Monad Transformers Monad Transformers – Part 1: An Introduction   Once you&amp;rsquo;ve learned some basic of &amp;ldquo;Monad&amp;rdquo;. The next step in the journey is &amp;ldquo;Monad Transformers&amp;rdquo;. In this series, we&amp;rsquo;ll use the basic building block of Haskell to learn about &amp;ldquo;Monad Transformers&amp;rdquo;.
The basic Let&amp;rsquo;s start with the most basic possible Monad. The Maybe monad. Here&amp;rsquo;s the type signature for Maybe type:">
<meta property="og:locale" content="en-us">
<style>body{font-family:bree serif,sans-serif;-webkit-font-smoothing:antialiased;margin:0 20px}article{max-width:800px;margin-left:auto;margin-right:auto}a{color:#000;text-decoration:none}a:hover{font-weight:600;text-decoration:underline}.post-ads{margin:50px 0}.markdown-body{font-size:18px;max-width:100%}.markdown-body a{text-decoration:underline;text-decoration-color:#000}.markdown-body pre{padding:16px;overflow:auto;border-radius:10px}.markdown-body code{padding:.2em .4em;font-size:85%;background-color:#f6f8fa;border-radius:6px}.markdown-body pre>code{padding:0;font-size:100%;background-color:inherit;border:0}.Chinese .markdown-body{line-height:200%}.site-date-catalog{font-size:2rem}.header-title{font-size:2rem;font-weight:700;margin-top:32px;font-family:bungee shade,sans-serif}.header-title a{text-decoration:none}.header-subtitle{color:#666}.header-items{margin:10px 0}.header-item{margin:0 5px}.header-line{width:100%;border-width:2px;border-color:#482936;border-style:solid none none none}.lang-switch{font-weight:600}#posts-list{min-height:600px}.posts-line{font-size:1.2rem;margin:12px 0}.posts-categories{font-size:.8rem;margin:auto;text-align:center}.posts-category{padding:3px 0;border:#000 2px solid;border-radius:5px}.site-footer{margin-top:50px}.site-footer-item{margin-right:12px}.post-content img{max-width:100%;display:block;margin-right:auto;margin-top:12px}.post-header{margin-bottom:50px}.post-title{font-size:2rem;font-weight:600}.post-tags{display:inline;font-weight:600;padding:2px 5px;margin-right:6px;border:#000 2px solid;border-radius:5px}.post-date{font-weight:800;font-style:italic}.post-author{float:right;font-weight:600}.page-content{min-height:60%}.post-content{margin-bottom:50px}.post-content p{hyphens:auto;line-height:1.8;text-justify:ideographic;margin-bottom:1em}.related-content{border-width:3px;border-style:solid;border-color:#000;padding:0 10px;margin-bottom:50px;margin-top:100px}.related-content li{margin:5px 0}.taxonomy-term{font-size:3rem}.gallery-img{text-align:center}.gallery-img span{text-align:center}.gallery-img-desc{font-size:.8em;font-weight:800}#disqus_thread{position:relative}#disqus_thread:after{content:"";display:block;height:55px;width:100%;position:absolute;bottom:0;background:#fff}@media screen and (max-width:600px){.header-title,.header-subtitle,.header-items{text-align:center}.posts-line{font-size:16px}.markdown-body{font-size:16px}.post-title{font-size:2rem}.post-content p{letter-spacing:.05em}}@media screen and (max-width:48em){.posts-category{display:none}}</style>
<style>.container,.container-fluid{margin-right:auto;margin-left:auto}.container-fluid{padding-right:2rem;padding-left:2rem}.row{box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:initial;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-.5rem;margin-left:-.5rem}.row.reverse{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.col.reverse{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.col-xs,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-offset-0,.col-xs-offset-1,.col-xs-offset-10,.col-xs-offset-11,.col-xs-offset-12,.col-xs-offset-2,.col-xs-offset-3,.col-xs-offset-4,.col-xs-offset-5,.col-xs-offset-6,.col-xs-offset-7,.col-xs-offset-8,.col-xs-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-xs{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-xs-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-xs-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-xs-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-xs-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-xs-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-xs-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-xs-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-xs-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-xs-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-xs-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-xs-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-xs-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-xs-offset-0{margin-left:0}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-11{margin-left:91.66666667%}.start-xs{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-xs{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-xs{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-xs{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-xs{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-xs{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-xs{-ms-flex-pack:distribute;justify-content:space-around}.between-xs{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-xs{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-xs{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}@media only screen and (min-width:48em){.container{width:49rem}.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-offset-0,.col-sm-offset-1,.col-sm-offset-10,.col-sm-offset-11,.col-sm-offset-12,.col-sm-offset-2,.col-sm-offset-3,.col-sm-offset-4,.col-sm-offset-5,.col-sm-offset-6,.col-sm-offset-7,.col-sm-offset-8,.col-sm-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-sm{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-sm-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-sm-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-sm-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-sm-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-sm-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-sm-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-sm-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-sm-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-sm-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-sm-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-sm-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-sm-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-sm-offset-0{margin-left:0}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-11{margin-left:91.66666667%}.start-sm{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-sm{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-sm{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-sm{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-sm{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-sm{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-sm{-ms-flex-pack:distribute;justify-content:space-around}.between-sm{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-sm{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-sm{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:64em){.container{width:65rem}.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-offset-0,.col-md-offset-1,.col-md-offset-10,.col-md-offset-11,.col-md-offset-12,.col-md-offset-2,.col-md-offset-3,.col-md-offset-4,.col-md-offset-5,.col-md-offset-6,.col-md-offset-7,.col-md-offset-8,.col-md-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-md{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-md-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-md-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-md-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-md-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-md-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-md-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-md-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-md-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-md-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-md-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-md-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-md-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-md-offset-0{margin-left:0}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-3{margin-left:25%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-6{margin-left:50%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-9{margin-left:75%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-11{margin-left:91.66666667%}.start-md{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-md{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-md{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-md{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-md{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-md{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-md{-ms-flex-pack:distribute;justify-content:space-around}.between-md{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-md{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-md{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:75em){.container{width:76rem}.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-offset-0,.col-lg-offset-1,.col-lg-offset-10,.col-lg-offset-11,.col-lg-offset-12,.col-lg-offset-2,.col-lg-offset-3,.col-lg-offset-4,.col-lg-offset-5,.col-lg-offset-6,.col-lg-offset-7,.col-lg-offset-8,.col-lg-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-lg{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-lg-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-lg-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-lg-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-lg-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-lg-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-lg-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-lg-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-lg-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-lg-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-lg-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-lg-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-lg-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-lg-offset-0{margin-left:0}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-11{margin-left:91.66666667%}.start-lg{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-lg{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-lg{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-lg{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-lg{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-lg{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-lg{-ms-flex-pack:distribute;justify-content:space-around}.between-lg{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-lg{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-lg{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}</style>
<link rel=stylesheet href=https://rezigned.com/css/main.min.2bd5b7558f9a9124a6e3585fb2198b971be5a4360a5426a0fba906ca5183e9f8.css>
<link href=/index.xml rel=alternate type=application/rss+xml title=@rezigned>
<link rel=preconnect href=https://fonts.gstatic.com>
<link href="https://fonts.googleapis.com/css?family=Roboto+Slab|Noto+Sans+Mono|Bungee+Shade" rel=stylesheet>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28430747-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-28430747-1")</script>
</head>
<body>
<article class="post EN" id=article>
<div class=row>
<div class=col-xs-12>
<div class=site-header>
<header>
<div class=header-title>
<a href=/>rezigned</a>
</div>
<div class=header-subtitle>Code is art - ∀𝑥 ∈ 𝑝𝑒𝑜𝑝𝑙𝑒, ∃𝑥 ♡ λ</div>
</header>
<div class="row end-md center-xs header-items">
<div class=header-item>
<a href=https://twitter.com/rezigned target=_blank>About Me</a>
</div>
<div class=header-item>
<a href=https://github.com/rezigned target=_blank>Github</a>
</div>
</div>
<div class="row end-xs">
<div class="lang-switch col-xs-3 col-xs-offset-9">
<a href=/th/>TH</a>
</div>
</div>
<div class=header-line></div>
</div>
<header class=post-header>
<h1 class=post-title>Monad Transformers – Part 1: An Introduction</h1>
<div class="row post-desc">
<div class=col-xs-6>
<time class=post-date datetime="2021-10-24 20:28:16 +0700">
24 Oct 2021
</time>
</div>
<div class=col-xs-6>
<div class=post-author>
<a target=_blank href=https://rezigned.com>@rezigned</a>
</div>
</div>
</div>
</header>
<div class="post-content markdown-body">
This post is part of the series <i>Monad Transformers</i>
<ol class=post-series>
<li hugo-nav=/posts/monad-transformers-1/>
Monad Transformers – Part 1: An Introduction
</li>
</ol>
<p>Once you&rsquo;ve learned some basic of <em>&ldquo;Monad&rdquo;</em>. The next step in the journey is <em>&ldquo;Monad Transformers&rdquo;</em>. In this series, we&rsquo;ll use the basic building block of Haskell to learn about <em>&ldquo;Monad Transformers&rdquo;</em>.</p>
<h2 id=the-basic>The basic</h2>
<p>Let&rsquo;s start with the most basic possible Monad. The <code>Maybe</code> monad. Here&rsquo;s the type signature for <code>Maybe</code> type:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#8be9fd>Maybe</span> a <span style=color:#ff79c6>::</span> <span style=color:#8be9fd>Nothing</span> <span style=color:#ff79c6>|</span> <span style=color:#8be9fd>Just</span> a
</code></pre></div><div class="notices note">Other programming languages usually represent this type with <code>Option&lt;T></code>.</div>
<p>We use <code>Maybe</code> to represent an optional value. For example. The <code>div :: a -> a -> a</code> function will throw exception when using <code>0</code> as divisor.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>1</span> `div` <span style=color:#bd93f9>0</span>

<span style=color:#6272a4>-- Exception: divide by zero</span>
</code></pre></div><p>So, instead we could use <code>Maybe</code> type to turn <code>div</code> into <em>total function</em>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#50fa7b>div&#39;</span> <span style=color:#ff79c6>::</span> <span style=color:#8be9fd>Int</span> <span style=color:#ff79c6>-&gt;</span> <span style=color:#8be9fd>Int</span> <span style=color:#ff79c6>-&gt;</span> <span style=color:#8be9fd>Maybe</span> <span style=color:#8be9fd>Int</span>
<span style=color:#50fa7b>div&#39;</span> x <span style=color:#bd93f9>0</span> <span style=color:#ff79c6>=</span> <span style=color:#8be9fd>Nothing</span>
<span style=color:#50fa7b>div&#39;</span> x d <span style=color:#ff79c6>=</span> <span style=color:#8be9fd>Just</span> <span style=color:#ff79c6>$</span> x `div` d
</code></pre></div><p>With this, we can safely do a division by using any number as divisor!</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>1</span> `div&#39;` <span style=color:#bd93f9>0</span>

<span style=color:#8be9fd>Nothing</span>
</code></pre></div><h2 id=going-further>Going further</h2>
<p>Next, let&rsquo;s go one step further. We will still be working with optional value (<code>Maybe a</code>). But this time, we&rsquo;ll put it in another type.</p>
<h3 id=1-list-of-optional-values-maybe-a>1. List of optional values <code>[Maybe a]</code></h3>
<p>If we want to apply some transformation to these list of optional values. How could we do that? Let&rsquo;s think about it a little bit.</p>
<p>We all know that we could use <code>map</code> to apply a function to a list of values e.g. <code>[a]</code>:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#50fa7b>map</span> <span style=color:#ff79c6>::</span> (a <span style=color:#ff79c6>-&gt;</span> b) <span style=color:#ff79c6>-&gt;</span> [a] <span style=color:#ff79c6>-&gt;</span> [b]
</code></pre></div><p>But what about list of optional values (<code>[Maybe a]</code>)?</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs>(a <span style=color:#ff79c6>-&gt;</span> b) <span style=color:#ff79c6>-&gt;</span> [<span style=color:#8be9fd>Maybe</span> a] <span style=color:#ff79c6>-&gt;</span> [<span style=color:#8be9fd>Maybe</span> b]
</code></pre></div><p>There&rsquo;re many ways to implement this. But in order to demonstrate the purpose of <em>Monad Transformers</em>. We&rsquo;ll implement it via <code>do</code> notation with binding arrow (<code>&lt;-</code>).</p>
<div class="notices note">In practice, we would define <code>map'</code> as <code>map' = fmap . fmap</code> instead. But here, we want to demonstrate the difference between a simple monad <em>vs.</em> transformer version.</div>
<p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=a-1><a style=outline:none;text-decoration:none;color:inherit href=#a-1>1</a></span><span style=color:#50fa7b>map&#39;</span> <span style=color:#ff79c6>::</span> (a <span style=color:#ff79c6>-&gt;</span> a) <span style=color:#ff79c6>-&gt;</span> [<span style=color:#8be9fd>Maybe</span> a] <span style=color:#ff79c6>-&gt;</span> [<span style=color:#8be9fd>Maybe</span> a]
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=a-2><a style=outline:none;text-decoration:none;color:inherit href=#a-2>2</a></span><span style=color:#50fa7b>map&#39;</span> f xs <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>do</span>
<span style=display:block;width:100%;background-color:#3d3f4a><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=a-3><a style=outline:none;text-decoration:none;color:inherit href=#a-3>3</a></span>  x <span style=color:#ff79c6>&lt;-</span> xs          <span style=color:#6272a4>-- 1</span>
</span><span style=display:block;width:100%;background-color:#3d3f4a><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=a-4><a style=outline:none;text-decoration:none;color:inherit href=#a-4>4</a></span>  return <span style=color:#ff79c6>$</span> f <span style=color:#ff79c6>&lt;$&gt;</span> x <span style=color:#6272a4>-- 2</span></span></code></pre></div>
<i class=caption><strong>Example 1.1</strong>: List of optional values (<code>[Maybe a]</code>).</i></p>
<ol>
<li>The first thing we do is to use <code>&lt;-</code> arrow to access <code>Maybe a</code> inside <code>[]</code>. i.e. <code>x :: Maybe a</code>.</li>
<li>Since <code>x</code> is <code>Maybe a</code>, we can use <code>fmap :: (a -> b) -> f a -> f b</code> to apply function to <code>a</code> directly.</li>
</ol>
<p>Let&rsquo;s see it in action!</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#ff79c6>&gt;</span> map&#39; (<span style=color:#ff79c6>+</span><span style=color:#bd93f9>2</span>) [<span style=color:#8be9fd>Just</span> <span style=color:#bd93f9>1</span>, <span style=color:#8be9fd>Just</span> <span style=color:#bd93f9>5</span>, <span style=color:#8be9fd>Nothing</span>]

[<span style=color:#8be9fd>Just</span> <span style=color:#bd93f9>3</span>, <span style=color:#8be9fd>Just</span> <span style=color:#bd93f9>7</span>, <span style=color:#8be9fd>Nothing</span>]
</code></pre></div><h3 id=2-action-with-optional-value-io-maybe-a>2. Action with optional value <code>IO (Maybe a)</code></h3>
<p>We&rsquo;ll write a simple program that asks user to choose whether to continue or stop.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span style=color:#ff79c6>import</span> Data.Char (<span style=color:#50fa7b>toLower</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span style=color:#50fa7b>accept</span> <span style=color:#ff79c6>::</span> <span style=color:#8be9fd>IO</span> (<span style=color:#8be9fd>Maybe</span> <span style=color:#8be9fd>String</span>)
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span style=color:#50fa7b>accept</span> <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>do</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span>  s <span style=color:#ff79c6>&lt;-</span> getLine
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span>  <span style=color:#ff79c6>if</span> map toLower s <span style=color:#ff79c6>==</span> <span style=color:#f1fa8c>&#34;y&#34;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span>    <span style=color:#ff79c6>then</span> return <span style=color:#ff79c6>$</span> <span style=color:#8be9fd>Just</span> s
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span>    <span style=color:#ff79c6>else</span> return <span style=color:#8be9fd>Nothing</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span style=color:#50fa7b>main</span> <span style=color:#ff79c6>=</span> <span style=color:#8be9fd>IO</span> <span style=color:#8be9fd;font-style:italic>()</span>
<span style=display:block;width:100%;background-color:#3d3f4a><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>  result <span style=color:#ff79c6>&lt;-</span> accept <span style=color:#6272a4>-- 1</span>
</span><span style=display:block;width:100%;background-color:#3d3f4a><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>  <span style=color:#ff79c6>case</span> result <span style=color:#ff79c6>of</span>   <span style=color:#6272a4>-- 2</span>
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span>    <span style=color:#8be9fd>Nothing</span> <span style=color:#ff79c6>-&gt;</span> putStrLn <span style=color:#f1fa8c>&#34;Quit&#34;</span>
<span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span>    <span style=color:#8be9fd>Just</span> s  <span style=color:#ff79c6>-&gt;</span> putStrLn <span style=color:#ff79c6>$</span> s <span style=color:#ff79c6>++</span> <span style=color:#f1fa8c>&#34;: Continue&#34;</span>
</code></pre></div><p><i class=caption><strong>Example 1.2</strong>: <code>IO</code> with optional value (<code>IO Maybe a</code>).</i></p>
<ol>
<li>This is similar to what we did on previous example on <code>[Maybe a]</code>. We use binding arrow (<code>&lt;-</code>) to access <code>Maybe String</code> value.</li>
<li>Next, we perform pattern matching on the result.</li>
</ol>
<h2 id=can-you-spot-a-pattern>Can you spot a pattern?</h2>
<p>We might have noticed that there&rsquo;re some kind of repetitive pattern here. Whenever we want to get a hold of our optional value (<code>Maybe a</code>). We have to always call <code>&lt;-</code> arrow first. Even though, we <em>don&rsquo;t really care</em> what the <em>outermost types</em> are (In our example, <code>[]</code> and <code>IO</code> respectively).</p>
<div class="notices info"><p>In example 1.1. We use <code>&lt;-</code> to extract <code>Maybe a</code> out from <code>[]</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=display:block;width:100%;background-color:#3d3f4a><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span>  x <span style=color:#ff79c6>&lt;-</span> xs <span style=color:#6272a4>-- 1</span>
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span>  return <span style=color:#ff79c6>$</span> f <span style=color:#ff79c6>&lt;$&gt;</span> x
</code></pre></div><p>Here again, in example 1.2. We use <code>&lt;-</code> to extract <code>Maybe a</code> out from <code>IO</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=display:block;width:100%;background-color:#3d3f4a><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span>  result <span style=color:#ff79c6>&lt;-</span> accept <span style=color:#6272a4>-- 1</span>
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span>  <span style=color:#ff79c6>case</span> result <span style=color:#ff79c6>of</span>
</code></pre></div></div>
<p>Before we introduce our first <em>&ldquo;Monad transformers&rdquo;</em>. Let&rsquo;s take a sneak peek of the new <em>Monad transformers</em> version of our previous examples!</p>
<p><strong>List of optional values</strong></p>
<p>We can see that our transformer version on the right doesn&rsquo;t need to call <code>x &lt;- xs</code> to get access to <code>Maybe a</code> any more:</p>
<div class=row>
<div class=col-xs-6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#50fa7b>map&#39;</span> f xs <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>do</span>
  x <span style=color:#ff79c6>&lt;-</span> xs <span style=color:#6272a4>-- 1. x :: Maybe a</span>
  return <span style=color:#ff79c6>$</span> f <span style=color:#ff79c6>&lt;$&gt;</span> x
</code></pre></div><p><i class=caption>Before</i></p>
</div>
<div class=col-xs-6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#50fa7b>map&#39;&#39;</span> f xs <span style=color:#ff79c6>=</span> f <span style=color:#ff79c6>&lt;$&gt;</span> xs
<span style=color:#6272a4>-- `f` operates on `a` directly.</span>
<span style=color:#6272a4>--</span>
</code></pre></div><p><i class=caption>After</i></p>
</div>
</div>
<p><strong>Action with optional value</strong></p>
<p>Same thing here. The <code>result &lt;- accept</code> call on the right, now returns <code>String</code> directly. No need for us to perform a pattern matching on the result like we did on previously (before, it returns <code>Maybe String</code>):</p>
<div class=row>
<div class=col-xs-6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#50fa7b>result</span> <span style=color:#ff79c6>&lt;-</span> accept <span style=color:#6272a4>-- 1. result :: Maybe String</span>
<span style=color:#ff79c6>case</span> result <span style=color:#ff79c6>of</span>   <span style=color:#6272a4>-- 2.</span>
  <span style=color:#8be9fd>Nothing</span> <span style=color:#ff79c6>-&gt;</span> putStrLn <span style=color:#f1fa8c>&#34;Quit&#34;</span>
  <span style=color:#8be9fd>Just</span> s  <span style=color:#ff79c6>-&gt;</span> putStrLn <span style=color:#ff79c6>$</span> s <span style=color:#ff79c6>++</span> <span style=color:#f1fa8c>&#34;: Continue&#34;</span>
</code></pre></div><p><i class=caption>Before</i></p>
</div>
<div class=col-xs-6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-hs data-lang=hs><span style=color:#50fa7b>result</span> <span style=color:#ff79c6>&lt;-</span> accept&#39; <span style=color:#6272a4>-- 1. result :: String</span>
<span style=color:#50fa7b>lift</span> <span style=color:#ff79c6>$</span> putStrLn <span style=color:#ff79c6>$</span> result <span style=color:#ff79c6>++</span> <span style=color:#f1fa8c>&#34;: Continue&#34;</span>
<span style=color:#6272a4>--</span>
<span style=color:#6272a4>--</span>
</code></pre></div><p><i class=caption>After</i></p>
</div>
</div>
<h2 id=summary>Summary</h2>
<p>In part 1. We started by showing what happened when we need to wrap our monadic values (i.e. <code>Maybe a</code>) in another type (<code>[]</code> and <code>IO</code>). We also showed a quick look of what will it look like when we use the <em>transformer</em> version.</p>
<p>In next post, we&rsquo;ll take a look in more details on how does it actually work.</p>
<p><a href=https://www.buymeacoffee.com/rezigned rel=nofollow><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=rezigned&button_colour=40DCA5&font_colour=ffffff&font_family=Bree&outline_colour=000000&coffee_colour=208A51" style=max-width:100%></a></p>
</div>
<div class="row middle-xs">
<div class=col-xs-12>
<div class=post-tags>
<a href=/tags/haskell/>
haskell
</a>
</div>
<div class=post-tags>
<a href=/tags/monad/>
monad
</a>
</div>
</div>
</div>
<div class=row>
<div class=col-xs-12>
</div>
</div>
<div style=height:50px></div>
<div class=site-footer>
<h3>Discussions</h3>
<script src=https://utteranc.es/client.js repo=rezigned/rezigned.github.io issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script>
</div>
</div>
</div>
</article>
<script></script>
</body>
</html>